{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\SamiOdeh\\\\Desktop\\\\semester9\\\\client-server\\\\Project\\\\insurance-web-project\\\\client\\\\src\\\\pages\\\\Auth\\\\Signin.js\";\nimport React, { useState, useEffect } from \"react\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport { faAngleLeft, faEnvelope, faUnlockAlt } from \"@fortawesome/free-solid-svg-icons\";\nimport { Col, Row, Form, Card, Button, FormCheck, Container, InputGroup, Modal } from '@themesberg/react-bootstrap';\nimport { Link, useHistory } from 'react-router-dom';\nimport cookie from 'react-cookies';\nimport { Routes } from \"../../routes\";\nimport { Redirect } from 'react-router';\nimport BgImage from \"../../assets/img/illustrations/signin.svg\";\nexport default (() => {\n  const [showDefault, setShowDefault] = useState(false);\n  const [message, setMessage] = useState('Error');\n  const [Email, setEmail] = useState('');\n  const [Password, setPassword] = useState('');\n  const [CheckBox, setCheckBox] = useState('Off');\n  const history = useHistory();\n  let isLoggedIn = false;\n  let token = cookie.load('token');\n  token == undefined ? isLoggedIn = false : isLoggedIn = true;\n\n  const setCheckBoxHandler = () => {\n    CheckBox == 'Off' ? setCheckBox('On') : setCheckBox('Off');\n  };\n\n  const handleClose = () => setShowDefault(false);\n\n  const Handleclicklogin = () => {\n    var pattern = new RegExp(/^((\"[\\w-\\s]+\")|([\\w-]+(?:\\.[\\w-]+)*)|(\"[\\w-\\s]+\")([\\w-]+(?:\\.[\\w-]+)*))(@((?:[\\w-]+\\.)*\\w[\\w-]{0,66})\\.([a-z]{2,6}(?:\\.[a-z]{2})?)$)|(@\\[?((25[0-5]\\.|2[0-4][0-9]\\.|1[0-9]{2}\\.|[0-9]{1,2}\\.))((25[0-5]|2[0-4][0-9]|1[0-9]{2}|[0-9]{1,2})\\.){2}(25[0-5]|2[0-4][0-9]|1[0-9]{2}|[0-9]{1,2})\\]?$)/i);\n\n    if (!pattern.test(Email)) {\n      setMessage('Email is not valid!');\n      setShowDefault(true);\n      return;\n    } else if (Password === '' || Password.length < 4) {\n      setMessage('Password is not valid!');\n      setShowDefault(true);\n      return;\n    }\n\n    fetch('http://localhost:5000/api/users/login', {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify({\n        email: Email,\n        password: Password\n      })\n    }).then(r => r.json()).then(r => {\n      console.log(r);\n\n      if (r.response == \"Success\") {\n        if (CheckBox == \"On\") {\n          cookie.save('token', r.data.token, {\n            path: '/',\n            maxAge: 60 * 60 * 24 * 30\n          });\n        } else {\n          cookie.save('token', r.data.token, {\n            path: '/'\n          });\n        }\n\n        history.push(\"/\");\n      } else {\n        setMessage(r.msg);\n        setShowDefault(true);\n      }\n    }).catch(error => console.error('Error', error));\n  };\n\n  if (isLoggedIn === true) {\n    return /*#__PURE__*/React.createElement(Redirect, {\n      to: \"/\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 82,\n        columnNumber: 13\n      }\n    });\n  } else {\n    return /*#__PURE__*/React.createElement(\"main\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 85,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(\"section\", {\n      className: \"d-flex align-items-center my-5 mt-lg-6 mb-lg-5\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 86,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(Container, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 87,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"p\", {\n      className: \"text-center\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 88,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(Card.Link, {\n      as: Link,\n      to: Routes.DashboardOverview.path,\n      className: \"text-gray-700\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 89,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(FontAwesomeIcon, {\n      icon: faAngleLeft,\n      className: \"me-2\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 90,\n        columnNumber: 17\n      }\n    }), \" Back to homepage\")), /*#__PURE__*/React.createElement(Row, {\n      className: \"justify-content-center form-bg-image\",\n      style: {\n        backgroundImage: `url(${BgImage})`\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 93,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(Col, {\n      xs: 12,\n      className: \"d-flex align-items-center justify-content-center\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 94,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"bg-white shadow-soft border rounded border-light p-4 p-lg-5 w-100 fmxw-500\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 95,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"text-center text-md-center mb-4 mt-md-0\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 96,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(\"h3\", {\n      className: \"mb-0\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 97,\n        columnNumber: 21\n      }\n    }, \"Sign in\")), /*#__PURE__*/React.createElement(Form, {\n      className: \"mt-4\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 99,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(Form.Group, {\n      id: \"email\",\n      className: \"mb-4\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 100,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(Form.Label, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 101,\n        columnNumber: 23\n      }\n    }, \"Your Email\"), /*#__PURE__*/React.createElement(InputGroup, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 102,\n        columnNumber: 23\n      }\n    }, /*#__PURE__*/React.createElement(InputGroup.Text, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 103,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(FontAwesomeIcon, {\n      icon: faEnvelope,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 104,\n        columnNumber: 27\n      }\n    })), /*#__PURE__*/React.createElement(Form.Control, {\n      autoFocus: true,\n      required: true,\n      type: \"email\",\n      onChange: e => setEmail(e.target.value),\n      placeholder: \"example@company.com\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 106,\n        columnNumber: 25\n      }\n    }))), /*#__PURE__*/React.createElement(Form.Group, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 109,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(Form.Group, {\n      id: \"password\",\n      className: \"mb-4\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 110,\n        columnNumber: 23\n      }\n    }, /*#__PURE__*/React.createElement(Form.Label, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 111,\n        columnNumber: 25\n      }\n    }, \"Your Password\"), /*#__PURE__*/React.createElement(InputGroup, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 112,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(InputGroup.Text, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 113,\n        columnNumber: 27\n      }\n    }, /*#__PURE__*/React.createElement(FontAwesomeIcon, {\n      icon: faUnlockAlt,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 114,\n        columnNumber: 29\n      }\n    })), /*#__PURE__*/React.createElement(Form.Control, {\n      required: true,\n      type: \"password\",\n      onChange: e => setPassword(e.target.value),\n      placeholder: \"Password\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 116,\n        columnNumber: 27\n      }\n    }))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"d-flex justify-content-between align-items-center mb-4\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 119,\n        columnNumber: 23\n      }\n    }, /*#__PURE__*/React.createElement(Form.Check, {\n      type: \"checkbox\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 120,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(FormCheck.Input, {\n      id: \"defaultCheck5\",\n      onChange: e => setCheckBoxHandler(),\n      className: \"me-2\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 121,\n        columnNumber: 27\n      }\n    }), /*#__PURE__*/React.createElement(FormCheck.Label, {\n      htmlFor: \"defaultCheck5\",\n      className: \"mb-0\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 122,\n        columnNumber: 27\n      }\n    }, \"Remember me\")))), /*#__PURE__*/React.createElement(Button, {\n      variant: \"primary\",\n      onClick: () => {\n        Handleclicklogin();\n      },\n      className: \"w-100\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 126,\n        columnNumber: 21\n      }\n    }, \"Sign in\")), /*#__PURE__*/React.createElement(React.Fragment, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 131,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(Modal, {\n      as: Modal.Dialog,\n      centered: true,\n      show: showDefault,\n      onHide: handleClose,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 132,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(Modal.Header, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 133,\n        columnNumber: 23\n      }\n    }, /*#__PURE__*/React.createElement(Modal.Title, {\n      className: \"h6\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 134,\n        columnNumber: 25\n      }\n    }, \"Message\"), /*#__PURE__*/React.createElement(Button, {\n      variant: \"close\",\n      \"aria-label\": \"Close\",\n      onClick: handleClose,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 135,\n        columnNumber: 25\n      }\n    })), /*#__PURE__*/React.createElement(Modal.Body, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 137,\n        columnNumber: 23\n      }\n    }, /*#__PURE__*/React.createElement(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 138,\n        columnNumber: 25\n      }\n    }, message)), /*#__PURE__*/React.createElement(Modal.Footer, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 140,\n        columnNumber: 23\n      }\n    }, /*#__PURE__*/React.createElement(Button, {\n      variant: \"secondary\",\n      onClick: handleClose,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 141,\n        columnNumber: 25\n      }\n    }, \"I Got It\"))))))))));\n  }\n});","map":{"version":3,"sources":["C:/Users/SamiOdeh/Desktop/semester9/client-server/Project/insurance-web-project/client/src/pages/Auth/Signin.js"],"names":["React","useState","useEffect","FontAwesomeIcon","faAngleLeft","faEnvelope","faUnlockAlt","Col","Row","Form","Card","Button","FormCheck","Container","InputGroup","Modal","Link","useHistory","cookie","Routes","Redirect","showDefault","setShowDefault","message","setMessage","Email","setEmail","Password","setPassword","CheckBox","setCheckBox","history","isLoggedIn","token","load","undefined","setCheckBoxHandler","handleClose","Handleclicklogin","pattern","RegExp","test","length","fetch","method","headers","body","JSON","stringify","email","password","then","r","json","console","log","response","save","data","path","maxAge","push","msg","catch","error","DashboardOverview","backgroundImage","BgImage","e","target","value","Dialog"],"mappings":"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","sourcesContent":["\nimport React, { useState, useEffect } from \"react\"\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport { faAngleLeft, faEnvelope, faUnlockAlt } from \"@fortawesome/free-solid-svg-icons\";\nimport { Col, Row, Form, Card, Button, FormCheck, Container, InputGroup, Modal } from '@themesberg/react-bootstrap';\nimport { Link, useHistory } from 'react-router-dom';\nimport cookie from 'react-cookies'\nimport { Routes } from \"../../routes\";\nimport { Redirect } from 'react-router';\nimport BgImage from \"../../assets/img/illustrations/signin.svg\";\n\n\nexport default () => {\n\n  const [showDefault, setShowDefault] = useState(false);\n  const [message, setMessage] = useState('Error');\n  const [Email, setEmail] = useState('');\n  const [Password, setPassword] = useState('');\n  const [CheckBox, setCheckBox] = useState('Off');\n  const history = useHistory();\n  let isLoggedIn = false;\n  let token = cookie.load('token')\n  token == undefined ? isLoggedIn = false : isLoggedIn = true;\n\n  const setCheckBoxHandler = () => {\n    CheckBox == 'Off' ? setCheckBox('On') : setCheckBox('Off');\n  }\n  const handleClose = () => setShowDefault(false);\n  const Handleclicklogin = () => {\n    var pattern = new RegExp(/^((\"[\\w-\\s]+\")|([\\w-]+(?:\\.[\\w-]+)*)|(\"[\\w-\\s]+\")([\\w-]+(?:\\.[\\w-]+)*))(@((?:[\\w-]+\\.)*\\w[\\w-]{0,66})\\.([a-z]{2,6}(?:\\.[a-z]{2})?)$)|(@\\[?((25[0-5]\\.|2[0-4][0-9]\\.|1[0-9]{2}\\.|[0-9]{1,2}\\.))((25[0-5]|2[0-4][0-9]|1[0-9]{2}|[0-9]{1,2})\\.){2}(25[0-5]|2[0-4][0-9]|1[0-9]{2}|[0-9]{1,2})\\]?$)/i);\n    if (!pattern.test(Email)) {\n      setMessage('Email is not valid!')\n      setShowDefault(true)\n      return;\n    } else if (Password === '' || Password.length < 4) {\n      setMessage('Password is not valid!')\n      setShowDefault(true)\n      return;\n    }\n\n    fetch('http://localhost:5000/api/users/login', {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json',\n      },\n      body: JSON.stringify({ email: Email, password: Password })\n    }).then(r => r.json())\n      .then(r => {\n        console.log(r);\n\n\n        if (r.response == \"Success\") {\n          if (CheckBox == \"On\") {\n            cookie.save('token', r.data.token,\n              {\n                path: '/',\n                maxAge: 60 * 60 * 24 * 30,\n              }\n            );\n          } else {\n            cookie.save('token', r.data.token,\n              {\n                path: '/',\n              }\n            );\n          }\n          history.push(\"/\");\n\n        } else {\n          setMessage(r.msg)\n          setShowDefault(true)\n        }\n\n\n      }).catch(error => console.error('Error', error))\n\n\n\n  }\n\n  if (isLoggedIn === true) {\n    return (<Redirect to=\"/\" />);\n  } else {\n    return (\n      <main>\n        <section className=\"d-flex align-items-center my-5 mt-lg-6 mb-lg-5\">\n          <Container>\n            <p className=\"text-center\">\n              <Card.Link as={Link} to={Routes.DashboardOverview.path} className=\"text-gray-700\">\n                <FontAwesomeIcon icon={faAngleLeft} className=\"me-2\" /> Back to homepage\n              </Card.Link>\n            </p>\n            <Row className=\"justify-content-center form-bg-image\" style={{ backgroundImage: `url(${BgImage})` }}>\n              <Col xs={12} className=\"d-flex align-items-center justify-content-center\">\n                <div className=\"bg-white shadow-soft border rounded border-light p-4 p-lg-5 w-100 fmxw-500\">\n                  <div className=\"text-center text-md-center mb-4 mt-md-0\">\n                    <h3 className=\"mb-0\">Sign in</h3>\n                  </div>\n                  <Form className=\"mt-4\">\n                    <Form.Group id=\"email\" className=\"mb-4\">\n                      <Form.Label>Your Email</Form.Label>\n                      <InputGroup>\n                        <InputGroup.Text>\n                          <FontAwesomeIcon icon={faEnvelope} />\n                        </InputGroup.Text>\n                        <Form.Control autoFocus required type=\"email\" onChange={e => setEmail(e.target.value)} placeholder=\"example@company.com\" />\n                      </InputGroup>\n                    </Form.Group>\n                    <Form.Group>\n                      <Form.Group id=\"password\" className=\"mb-4\">\n                        <Form.Label>Your Password</Form.Label>\n                        <InputGroup>\n                          <InputGroup.Text>\n                            <FontAwesomeIcon icon={faUnlockAlt} />\n                          </InputGroup.Text>\n                          <Form.Control required type=\"password\" onChange={e => setPassword(e.target.value)} placeholder=\"Password\" />\n                        </InputGroup>\n                      </Form.Group>\n                      <div className=\"d-flex justify-content-between align-items-center mb-4\">\n                        <Form.Check type=\"checkbox\">\n                          <FormCheck.Input id=\"defaultCheck5\" onChange={e => setCheckBoxHandler()} className=\"me-2\" />\n                          <FormCheck.Label htmlFor=\"defaultCheck5\" className=\"mb-0\">Remember me</FormCheck.Label>\n                        </Form.Check>\n                      </div>\n                    </Form.Group>\n                    <Button variant=\"primary\" onClick={() => { Handleclicklogin() }} className=\"w-100\">\n                      Sign in\n                    </Button>\n                  </Form>\n\n                  <React.Fragment>\n                    <Modal as={Modal.Dialog} centered show={showDefault} onHide={handleClose}>\n                      <Modal.Header>\n                        <Modal.Title className=\"h6\">Message</Modal.Title>\n                        <Button variant=\"close\" aria-label=\"Close\" onClick={handleClose} />\n                      </Modal.Header>\n                      <Modal.Body>\n                        <p>{message}</p>\n                      </Modal.Body>\n                      <Modal.Footer>\n                        <Button variant=\"secondary\" onClick={handleClose}>\n                          I Got It\n                        </Button>\n\n                      </Modal.Footer>\n                    </Modal>\n                  </React.Fragment>\n\n                </div>\n              </Col>\n            </Row>\n          </Container>\n        </section>\n      </main>\n    );\n  }\n\n};\n"]},"metadata":{},"sourceType":"module"}